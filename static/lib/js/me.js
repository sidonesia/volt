(function(){MicroModal.init();document.querySelector("[data-ok").addEventListener("click",function(e){_0xbe21()});const btnSubmit=document.querySelector("[data-submit]");btnSubmit.addEventListener("click",function(e){$("#pwd").val("");MicroModal.show("modal-pwd")});const msgContainer=document.querySelector("[data-msg-container]");const _0xbe21=function(){const pwd=document.querySelector("#pwd");if(!pwd.value){alert("Please input your account password!");return}let i=0;document.querySelectorAll("[data-e]").forEach(e=>e.remove());document.querySelectorAll("[data-b").forEach(function(e){if(!e.value){_0xbf72(e.id);i=i+1}});if(i>0){MicroModal.close("modal-pwd");return}postURL("/api/v1/users/cp",{pwd:pwd.value}).done(function(e){if(e.message_code==1){const i=document.createElement("input");i.type="hidden";i.name="pwd";i.value=pwd.value;document.getElementById("form").appendChild(i);$("#form").submit()}else{if(e.message_data.retry>4){clear();const eL=document.getElementById("msg_template").content.cloneNode(true);eL.querySelector("img").src="/static/assets/imgs/feather-ico/warning.svg";eL.querySelector("h3").innerText="ERROR!!";eL.querySelector("p").innerHTML=e.message_data.msg;msgContainer.append(eL);MicroModal.close("modal-pwd");MicroModal.show("modal-msg",{onClose:function(e){location.reload()}})}else if(e.message_code==0){clear();const eL1=document.getElementById("msg_template").content.cloneNode(true);eL1.querySelector("img").src="/static/assets/imgs/feather-ico/warning.svg";eL1.querySelector("h3").innerText="ERROR!!";eL1.querySelector("p").innerHTML="WRONG PASSWORD!!";msgContainer.append(eL1);MicroModal.close("modal-pwd");MicroModal.show("modal-msg",{onClose:function(e){MicroModal.show("modal-pwd")}})}$("#pwd").val("");return false}})};function clear(){while(msgContainer.hasChildNodes()){msgContainer.removeChild(msgContainer.firstChild)}}function getBankName(sel){document.getElementById("bank_name").value=sel.options[sel.selectedIndex].text}function _0xbf72(sel,e="Field is required"){return $(`<p data-e style="color:red;">${e}</p>`).insertAfter(`#${sel}`)}$("#bank_name").keyup(function(){var v=$(this).val();value=v.toUpperCase().split(" ").join("_");$("#bank_value").val(value)})})();