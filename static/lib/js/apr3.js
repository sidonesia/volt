const file=document.getElementById("pic");const upContainer=document.querySelector("#picContainer");const editCon=document.querySelector("[data-edit-con]");const imgCon2=document.querySelector("#image");let myCropper;MicroModal.init({onClose:e=>{myCropper?myCropper.destroy():""},onShow:e=>editCon.style.display="none"});file.addEventListener("change",function(){const e=this.files[0];myCropper?myCropper.destroy():"";if(e&&e.type.startsWith("image/")){var t=e.size/1024/1024;if(t>5){alert("File size exceeds 5 MB")}else{editCon.style.display="block";const o=new FileReader;o.readAsDataURL(e);o.onload=e=>{imgCon2.setAttribute("src",e.target.result);myCropper=new Cropper(image,{autoCropArea:1,viewMode:3,zoomable:true,dragMode:"move",aspectRatio:1,background:false,ready:function(){this.cropper.crop()}})}}}});document.querySelector("#submitBtn").addEventListener("click",e=>{e.preventDefault();const t=myCropper.getCroppedCanvas({minWidth:256,minHeight:256,maxWidth:300,maxHeight:300,fillColor:"#fff",imageSmoothingEnabled:true,imageSmoothingQuality:"high"}).toDataURL("image/png");var o=document.createElement("input");o.type="hidden";o.name="pic1";o.value=t;document.getElementById("form").appendChild(o);$("#form").attr("action","/process/my-appearance/set-photo-profile");$("#form").submit()});document.querySelector("#resetBtn").addEventListener("click",e=>{myCropper.reset()});