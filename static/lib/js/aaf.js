$(elm).select2({placeholder:"Please select a product",data:mydata,allowClear:true,multiple:true,width:"100%"}).change(function(){$(cbap).prop("checked",$(elm).select2("data").length==0?!0:!1)});$(cbap).change(function(){if(this.checked){}$(elm).val([]).change()});$("#products").on("select2:select",function(e){var a=$("#member_email").val();var t=e.params.data.id});document.querySelector("#btns").addEventListener("click",function(e){if(validateForm()){$("#form1").submit()}});function validateForm(){var e,a,t;var l=$("#member_email").val();var i=$(elm).select2("val");if(l){e=1;if(validateEmail(l)){e=1;setErrLabel("emailMsg","","none")}else{e=!1;setErrLabel("emailMsg","Please enter a valid email address")}}else{e=!1;setErrLabel("emailMsg")}if(a_fee.val()){t=1;setErrLabel("feeMsg","","none")}else{t=0;setErrLabel("feeMsg")}var r={member_email:l,ids:i};if($("#cbap").is(":checked")){r.cballproduct=$("#cbap").val()}var s=get_item_check(r);if(s){a=!1;setErrLabel("itemMsg",s)}else{a=1;setErrLabel("itemMsg","","none")}return e&&a&&t}function setErrLabel(e,a="This field is required.",t="block"){document.getElementById(e).innerHTML=a;document.getElementById(e).style.display=t}function get_item_check(e){var a;postURL("/api/v1/affiliate/item-availability",e).done(function(e){a=e["message_data"]});return a}function validateEmail(e){const a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return a.test(e)}$(a_fee).on("keypress keyup blur",function(e){$(this).val($(this).val().replace(/[^0-9\.]/g,""));if(e.which<48||e.which>57){e.preventDefault()}});